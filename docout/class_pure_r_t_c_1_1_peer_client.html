<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Zealcomm PureRTC: PureRTC.PeerClient Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="zealcomm_logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Zealcomm PureRTC
   &#160;<span id="projectnumber">version&nbsp;3.4.1v</span>
   </div>
   <div id="projectbrief">Zealcomm PureRTC Client SDK for Javascript*</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_pure_r_t_c_1_1_peer_client.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_pure_r_t_c_1_1_peer_client-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">PureRTC.PeerClient Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Sets up a P2P WebRTC session. </p>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aaa7edf41690ee0b34ad9d77f4e214095"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pure_r_t_c_1_1_peer_client.html#aaa7edf41690ee0b34ad9d77f4e214095">stop</a> (string uid, function successCallback, function failureCallback)</td></tr>
<tr class="memdesc:aaa7edf41690ee0b34ad9d77f4e214095"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function stops the connection with specified remote user.  <a href="#aaa7edf41690ee0b34ad9d77f4e214095">More...</a><br/></td></tr>
<tr class="separator:aaa7edf41690ee0b34ad9d77f4e214095"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c8e6a31f77c3d33a1895efbfea57f39"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pure_r_t_c_1_1_peer_client.html#a8c8e6a31f77c3d33a1895efbfea57f39">getAudioLevels</a> (string targetId, function successCallback, funciton failureCallback)</td></tr>
<tr class="memdesc:a8c8e6a31f77c3d33a1895efbfea57f39"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns audio output levels associated with current client.  <a href="#a8c8e6a31f77c3d33a1895efbfea57f39">More...</a><br/></td></tr>
<tr class="separator:a8c8e6a31f77c3d33a1895efbfea57f39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23ef395a200865eecc90c4d1738509eb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pure_r_t_c_1_1_peer_client.html#a23ef395a200865eecc90c4d1738509eb">publish</a> (stream stream, string targetId, function successCallback, function failureCallback)</td></tr>
<tr class="memdesc:a23ef395a200865eecc90c4d1738509eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function publishes the local stream to the remote client.  <a href="#a23ef395a200865eecc90c4d1738509eb">More...</a><br/></td></tr>
<tr class="separator:a23ef395a200865eecc90c4d1738509eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b66d42d0b4bde3c66d49390ea89a424"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_pure_r_t_c_1_1_peer_client.html">PureRTC.PeerClient</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pure_r_t_c_1_1_peer_client.html#a0b66d42d0b4bde3c66d49390ea89a424">PeerClient</a> (json config)</td></tr>
<tr class="memdesc:a0b66d42d0b4bde3c66d49390ea89a424"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor of <a class="el" href="class_pure_r_t_c_1_1_peer_client.html" title="Sets up a P2P WebRTC session. ">PeerClient</a>.  <a href="#a0b66d42d0b4bde3c66d49390ea89a424">More...</a><br/></td></tr>
<tr class="separator:a0b66d42d0b4bde3c66d49390ea89a424"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefd7df577937e4459311e6f2c1f7530c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pure_r_t_c_1_1_peer_client.html#aefd7df577937e4459311e6f2c1f7530c">invite</a> (string peerId, function successCallback, function failureCallback)</td></tr>
<tr class="memdesc:aefd7df577937e4459311e6f2c1f7530c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function invites a remote client to establish a connection for chatting.  <a href="#aefd7df577937e4459311e6f2c1f7530c">More...</a><br/></td></tr>
<tr class="separator:aefd7df577937e4459311e6f2c1f7530c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae824d8bda61944fc5e0bb5eeb286a41b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pure_r_t_c_1_1_peer_client.html#ae824d8bda61944fc5e0bb5eeb286a41b">getConnectionStats</a> (string targetId, function successCallback, function failureCallback)</td></tr>
<tr class="memdesc:ae824d8bda61944fc5e0bb5eeb286a41b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns connection statistics to a remote client.  <a href="#ae824d8bda61944fc5e0bb5eeb286a41b">More...</a><br/></td></tr>
<tr class="separator:ae824d8bda61944fc5e0bb5eeb286a41b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1510845ee3c5cb9363ead609ca267770"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pure_r_t_c_1_1_peer_client.html#a1510845ee3c5cb9363ead609ca267770">unpublish</a> (stream stream, string targetId, function successCallback, function failureCallback)</td></tr>
<tr class="memdesc:a1510845ee3c5cb9363ead609ca267770"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function revokes a local stream's publish.  <a href="#a1510845ee3c5cb9363ead609ca267770">More...</a><br/></td></tr>
<tr class="separator:a1510845ee3c5cb9363ead609ca267770"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6557194c9c648ac844ca77d6cea1c2f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pure_r_t_c_1_1_peer_client.html#ab6557194c9c648ac844ca77d6cea1c2f">disconnect</a> (function successCallback, function failureCallback)</td></tr>
<tr class="memdesc:ab6557194c9c648ac844ca77d6cea1c2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function disconnects from the peer server.  <a href="#ab6557194c9c648ac844ca77d6cea1c2f">More...</a><br/></td></tr>
<tr class="separator:ab6557194c9c648ac844ca77d6cea1c2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49c482ea956ab25982f1d5bce7c7f5fa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pure_r_t_c_1_1_peer_client.html#a49c482ea956ab25982f1d5bce7c7f5fa">deny</a> (string uid, function successCallback, function failureCallback)</td></tr>
<tr class="memdesc:a49c482ea956ab25982f1d5bce7c7f5fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function denies a remote client's invitation.  <a href="#a49c482ea956ab25982f1d5bce7c7f5fa">More...</a><br/></td></tr>
<tr class="separator:a49c482ea956ab25982f1d5bce7c7f5fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45de2efd32f8d563565d7cdb14e4be4b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pure_r_t_c_1_1_peer_client.html#a45de2efd32f8d563565d7cdb14e4be4b">accept</a> (string peerId, function successCallback, function failureCallback)</td></tr>
<tr class="memdesc:a45de2efd32f8d563565d7cdb14e4be4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function accepts a remote client to establish a connection for chatting.  <a href="#a45de2efd32f8d563565d7cdb14e4be4b">More...</a><br/></td></tr>
<tr class="separator:a45de2efd32f8d563565d7cdb14e4be4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6835e1319466534ec1388310907b791c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pure_r_t_c_1_1_peer_client.html#a6835e1319466534ec1388310907b791c">connect</a> (object loginInfo)</td></tr>
<tr class="memdesc:a6835e1319466534ec1388310907b791c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function establishes a connection to the signaling server.  <a href="#a6835e1319466534ec1388310907b791c">More...</a><br/></td></tr>
<tr class="separator:a6835e1319466534ec1388310907b791c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a729c5f8eb8725ac45c4a7889b038b193"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pure_r_t_c_1_1_peer_client.html#a729c5f8eb8725ac45c4a7889b038b193">addEventListener</a> (string eventType, function listener)</td></tr>
<tr class="memdesc:a729c5f8eb8725ac45c4a7889b038b193"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function registers a callback function as a handler for the corresponding event.  <a href="#a729c5f8eb8725ac45c4a7889b038b193">More...</a><br/></td></tr>
<tr class="separator:a729c5f8eb8725ac45c4a7889b038b193"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f960286d45d2c1bebd1ebc82e4d4f20"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_pure_r_t_c_1_1_peer_client.html#a0f960286d45d2c1bebd1ebc82e4d4f20">send</a> (string message, string targetId, function successCallback, function failureCallback)</td></tr>
<tr class="memdesc:a0f960286d45d2c1bebd1ebc82e4d4f20"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sends message data to a remote client.  <a href="#a0f960286d45d2c1bebd1ebc82e4d4f20">More...</a><br/></td></tr>
<tr class="separator:a0f960286d45d2c1bebd1ebc82e4d4f20"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a0b66d42d0b4bde3c66d49390ea89a424"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_pure_r_t_c_1_1_peer_client.html">PureRTC.PeerClient</a> PureRTC.PeerClient.PeerClient </td>
          <td>(</td>
          <td class="paramtype">json&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor of <a class="el" href="class_pure_r_t_c_1_1_peer_client.html" title="Sets up a P2P WebRTC session. ">PeerClient</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>(Optional)Specifies the configurations for the <a class="el" href="class_pure_r_t_c_1_1_peer_client.html" title="Sets up a P2P WebRTC session. ">PeerClient</a> object created. Following properties are supported:<br/>
 
<table class="doxtable">
    <tr>
        <th>bandWidth</th>
        <td>Defines the maximum bandwidth in kbps for each tracks sent by this client. It should have a property - maxVideoBW which limits maximum bandwidth of each outgoing video tracks. Bandwidth limitation for audio track is not supported yet.</td>
    </tr>
    <tr>
        <th>iceServers</th>
        <td>Each ICE server instance has three properties: URIs, username (optional), credential (optional). URIs Could be an array of STUN/TURN server URIs which shared the same username and credential. STUN is described at http://tools.ietf.org/html/draft-nandakumar-rtcweb-stun-uri-08, and TURN is described at http://tools.ietf.org/html/rfc5766.</td>
    </tr>
    <tr>
        <th>audioCodec</th>
        <td>Specify preferred audio codec. Available values are "opus", "pcma", "pcmu", "isac". If specified codec is not supported by browser, it will be silently ignored. If this value is undefined, codec preference will be determined by browser.</td>
    </tr>
    <tr>
        <th>videoCodec</th>
        <td>Specify preferred video codec. Available values are "vp8", "vp9", "h264". If specified codec is not supported by browser, it will be silently ignored. If this value is undefined, H.264 will be the preferred codec. Note for Firefox, VP8 will be preferred even if you specify VP9/H.264 as preferred.</td>
    </tr>
</tbody>
</table>
 Each codec has its own supported bitrate range. Setting incorrect maxAudioBW/maxVideoBW value may lead to connection failure. Bandwidth settings don't work on Firefox.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An instance of <a class="el" href="class_pure_r_t_c_1_1_peer_client.html" title="Sets up a P2P WebRTC session. ">PureRTC.PeerClient</a>. <br/>
<br/>
 <div class="fragment"><div class="line">var p2p=<span class="keyword">new</span> <a class="code" href="class_pure_r_t_c_1_1_peer_client.html">PureRTC.PeerClient</a>({</div>
<div class="line">  bandWidth:{maxVideoBW:300},</div>
<div class="line">  iceServers : [{</div>
<div class="line">    urls : <span class="stringliteral">&quot;stun:example.com&quot;</span></div>
<div class="line">  }, {</div>
<div class="line">    urls : [<span class="stringliteral">&quot;turn:example.com:3478?transport=tcp&quot;</span>, <span class="stringliteral">&quot;turn:example.com:3478?transport=udp&quot;</span>],</div>
<div class="line">    credential : <span class="stringliteral">&quot;master&quot;</span>,</div>
<div class="line">    username : <span class="stringliteral">&quot;purertc&quot;</span></div>
<div class="line">  }]</div>
<div class="line">});</div>
<div class="line"></div>
<div class="line"> * </div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a45de2efd32f8d563565d7cdb14e4be4b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PureRTC.PeerClient.accept </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>peerId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">function&#160;</td>
          <td class="paramname"><em>successCallback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">function&#160;</td>
          <td class="paramname"><em>failureCallback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function accepts a remote client to establish a connection for chatting. </p>
<p><br/>
<b>Remarks:</b><br/>
This method is intended to be used with Firefox. Please avoid using this method if your application only runs on Chrome. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">peerId</td><td>Remote user's ID. </td></tr>
    <tr><td class="paramname">successCallback</td><td>callback function to be invoked if acceptance is sent to server successfully. </td></tr>
    <tr><td class="paramname">failureCallback</td><td>callback function to be invoked if error occurred. Paramter: error. <br/>
<br/>
 <div class="fragment"><div class="line"> &lt;script type=<span class="stringliteral">&quot;text/JavaScript&quot;</span>&gt;</div>
<div class="line"> var p2p=<span class="keyword">new</span> <a class="code" href="class_pure_r_t_c_1_1_peer_client.html">PureRTC.PeerClient</a>();</div>
<div class="line"> p2p.connect({host:<span class="stringliteral">&#39;http://example.com:8095/&#39;</span>,token:<span class="stringliteral">&#39;user1&#39;</span>});</div>
<div class="line"> p2p.addEventListener(<span class="stringliteral">&#39;chat-invited&#39;</span>,<span class="keyword">function</span>(e){</div>
<div class="line">  p2p.accept(e.senderId);</div>
<div class="line"> };</div>
<div class="line"> &lt;/script&gt;</div>
<div class="line"></div>
<div class="line">* </div>
</div><!-- fragment --> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a729c5f8eb8725ac45c4a7889b038b193"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PureRTC.PeerClient.addEventListener </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>eventType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">function&#160;</td>
          <td class="paramname"><em>listener</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function registers a callback function as a handler for the corresponding event. </p>
<p>It's shortened form is on(eventType, listener). See the event description in the following table.<br/>
 
<table class="doxtable">
    <thead>
        <tr valign="top">
            <th><b>Event name</b></th>
            <th><b>Description</b></th>
        </tr>
    </thead>
        <tr valign="top">
           <td>server-disconnected</td>
            <td>The client is disconnected from the peer server.</td>
        </tr>
        <tr valign="top">
            <td>chat-invited</td>
            <td>Received an invitation from a remote user. Parameter: senderId for the remote user's ID.</td>
        </tr>
        <tr valign="top">
            <td>chat-denied</td>
            <td>Remote user denied the invitation. Parameter: senderId for the remote user's ID.</td>
        </tr>
        <tr valign="top">
            <td>chat-started</td>
            <td>A new chat is started. Parameter: peerId for the remote user's ID.</td>
        </tr>
        <tr valign="top">
            <td>chat-stopped</td>
            <td>Current chat is stopped. This event is triggered when the chat is stopped by current user. Parameter: peerId for the remote user's ID and senderID for the event sender's ID.</td>
        </tr>
        <tr valign="top">
            <td>stream-added</td>
            <td>A stream is ready to show. Parameter: stream for remote stream, which is an instance of PureRTC.RemoteStream.</td>
        </tr>
        <tr valign="top">
            <td>stream-removed</td>
            <td>A stream has been removed. Parameter: stream for remote stream, which is an instance of PureRTC.RemoteStream.</td>
        </tr>
        <tr valign="top">
            <td>data-received</td>
            <td>Indicates there is new data content arrived which is sent by peer through data channel.</td>
        </tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">eventType</td><td>Event string. </td></tr>
    <tr><td class="paramname">listener</td><td>Callback function. <br/>
<br/>
 <div class="fragment"><div class="line">&lt;script type=<span class="stringliteral">&quot;text/JavaScript&quot;</span>&gt;</div>
<div class="line">...</div>
<div class="line"><span class="comment">//client.on(&quot;server-disconnected&quot;, function (evt) {...});</span></div>
<div class="line">client.addEventListener(<span class="stringliteral">&quot;server-disconnected&quot;</span>, <span class="keyword">function</span> (evt) {...});</div>
<div class="line">&lt;/script&gt;</div>
<div class="line"></div>
<div class="line"> * </div>
</div><!-- fragment --> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6835e1319466534ec1388310907b791c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PureRTC.PeerClient.connect </td>
          <td>(</td>
          <td class="paramtype">object&#160;</td>
          <td class="paramname"><em>loginInfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function establishes a connection to the signaling server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">loginInfo</td><td>An objects contains login information. For peer server, this object has two properties: host and token. Please make sure the host is correct. <br/>
<br/>
 <div class="fragment"><div class="line"> &lt;script type=<span class="stringliteral">&quot;text/JavaScript&quot;</span>&gt;</div>
<div class="line"> var p2p=<span class="keyword">new</span> <a class="code" href="class_pure_r_t_c_1_1_peer_client.html">PureRTC.PeerClient</a>();</div>
<div class="line"> p2p.connect({host:<span class="stringliteral">&#39;http://example.com:8095/&#39;</span>,token:<span class="stringliteral">&#39;user1&#39;</span>});</div>
<div class="line"> &lt;/script&gt;</div>
<div class="line"></div>
<div class="line">* </div>
</div><!-- fragment --> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a49c482ea956ab25982f1d5bce7c7f5fa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PureRTC.PeerClient.deny </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>uid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">function&#160;</td>
          <td class="paramname"><em>successCallback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">function&#160;</td>
          <td class="paramname"><em>failureCallback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function denies a remote client's invitation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uid</td><td>Remote user's ID. </td></tr>
    <tr><td class="paramname">successCallback</td><td>callback function to be invoked if server received deny message. </td></tr>
    <tr><td class="paramname">failureCallback</td><td>callback function to be invoked if error occurred. Parameter: error. <br/>
<br/>
 <div class="fragment"><div class="line"> &lt;script type=<span class="stringliteral">&quot;text/JavaScript&quot;</span>&gt;</div>
<div class="line"> var p2p=<span class="keyword">new</span> <a class="code" href="class_pure_r_t_c_1_1_peer_client.html">PureRTC.PeerClient</a>();</div>
<div class="line"> p2p.connect({host:<span class="stringliteral">&#39;http://example.com:8095/&#39;</span>,token:<span class="stringliteral">&#39;user1&#39;</span>});</div>
<div class="line"> p2p.deny(<span class="stringliteral">&#39;user2&#39;</span>);</div>
<div class="line"> &lt;/script&gt;</div>
<div class="line"></div>
<div class="line">* </div>
</div><!-- fragment --> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab6557194c9c648ac844ca77d6cea1c2f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PureRTC.PeerClient.disconnect </td>
          <td>(</td>
          <td class="paramtype">function&#160;</td>
          <td class="paramname"><em>successCallback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">function&#160;</td>
          <td class="paramname"><em>failureCallback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function disconnects from the peer server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">successCallback</td><td>callback function to be invoked if connection is disconnected. </td></tr>
    <tr><td class="paramname">failureCallback</td><td>callback function to be invoked if error occurred. Paramter: error. <br/>
<br/>
 <div class="fragment"><div class="line">&lt;script type=<span class="stringliteral">&quot;text/JavaScript&quot;</span>&gt;</div>
<div class="line">var p2p=<span class="keyword">new</span> <a class="code" href="class_pure_r_t_c_1_1_peer_client.html">PureRTC.PeerClient</a>();</div>
<div class="line">p2p.connect({host:<span class="stringliteral">&#39;http://example.com:8095/&#39;</span>,token:<span class="stringliteral">&#39;user1&#39;</span>});</div>
<div class="line">p2p.disconnect();</div>
<div class="line">&lt;/script&gt;</div>
<div class="line"></div>
<div class="line"> * </div>
</div><!-- fragment --> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8c8e6a31f77c3d33a1895efbfea57f39"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PureRTC.PeerClient.getAudioLevels </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>targetId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">function&#160;</td>
          <td class="paramname"><em>successCallback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">funciton&#160;</td>
          <td class="paramname"><em>failureCallback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function returns audio output levels associated with current client. </p>
<p>It is not supported on Firefox. More details about <a class="el" href="md__jenkins_workspace_client-sdk_js-3_84_build_javascript_docs_mdfiles_format.html#audiolevel">audio levels</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">targetId</td><td>Remote user's ID. </td></tr>
    <tr><td class="paramname">successCallback</td><td>callback function to be invoked when audio level information is available. </td></tr>
    <tr><td class="paramname">failureCallback</td><td>callback function to be invoked when fail to get the audio level information. <br/>
<br/>
 <div class="fragment"><div class="line"> &lt;script type=<span class="stringliteral">&quot;text/JavaScript&quot;</span>&gt;</div>
<div class="line"> var successcallback=<span class="keyword">function</span>(levels){</div>
<div class="line">   console.log(<span class="stringliteral">&quot;current level&quot;</span>+JSON.stringify(levels));</div>
<div class="line"> }</div>
<div class="line"> var failurecallback=<span class="keyword">function</span>(msg){</div>
<div class="line">   console.log(<span class="stringliteral">&quot;error getting audio levels:&quot;</span>+msg);</div>
<div class="line"> }</div>
<div class="line"> p2p.getAudioLevels($(<span class="stringliteral">&#39;#target-uid&#39;</span>).val(), successcallback, failurecallback);</div>
<div class="line"> &lt;/script&gt;</div>
<div class="line"></div>
<div class="line">* </div>
</div><!-- fragment --> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae824d8bda61944fc5e0bb5eeb286a41b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PureRTC.PeerClient.getConnectionStats </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>targetId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">function&#160;</td>
          <td class="paramname"><em>successCallback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">function&#160;</td>
          <td class="paramname"><em>failureCallback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function returns connection statistics to a remote client. </p>
<p>Unsupported statistics in firefox return -1 or "". More details about <a class="el" href="md__jenkins_workspace_client-sdk_js-3_84_build_javascript_docs_mdfiles_format.html#status">connection status</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">targetId</td><td>Remote user's ID. </td></tr>
    <tr><td class="paramname">successCallback</td><td>callback function to be invoked when statistics is available </td></tr>
    <tr><td class="paramname">failureCallback</td><td>callback function to be invoked when statistics is not available <br/>
<br/>
 <div class="fragment"><div class="line"> &lt;script type=<span class="stringliteral">&quot;text/JavaScript&quot;</span>&gt;</div>
<div class="line"> var successcallback=<span class="keyword">function</span>(stats){</div>
<div class="line">   console.log(<span class="stringliteral">&quot;stats:&quot;</span>+JSON.stringify(stats));</div>
<div class="line"> }</div>
<div class="line"> var failurecallback=<span class="keyword">function</span>(msg){</div>
<div class="line">   console.log(<span class="stringliteral">&quot;error getting stats:&quot;</span>+msg);</div>
<div class="line"> }</div>
<div class="line"> p2p.getConnectionStats($(<span class="stringliteral">&#39;#target-uid&#39;</span>).val(), successcallback, failurecallback);</div>
<div class="line"> &lt;/script&gt;</div>
<div class="line"></div>
<div class="line">* </div>
</div><!-- fragment --> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aefd7df577937e4459311e6f2c1f7530c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PureRTC.PeerClient.invite </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>peerId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">function&#160;</td>
          <td class="paramname"><em>successCallback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">function&#160;</td>
          <td class="paramname"><em>failureCallback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function invites a remote client to establish a connection for chatting. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">peerId</td><td>Remote user's ID. </td></tr>
    <tr><td class="paramname">successCallback</td><td>callback function to be invoked if invitation is sent. </td></tr>
    <tr><td class="paramname">failureCallback</td><td>callback function to be invoked if error occurred. Paramter: error. <br/>
<br/>
 <div class="fragment"><div class="line"> &lt;script type=<span class="stringliteral">&quot;text/JavaScript&quot;</span>&gt;</div>
<div class="line"> var p2p=<span class="keyword">new</span> <a class="code" href="class_pure_r_t_c_1_1_peer_client.html">PureRTC.PeerClient</a>();</div>
<div class="line"> p2p.connect({host:<span class="stringliteral">&#39;http://example.com:8095/&#39;</span>,token:<span class="stringliteral">&#39;user1&#39;</span>});</div>
<div class="line"> p2p.invite(<span class="stringliteral">&#39;user2&#39;</span>);</div>
<div class="line"> &lt;/script&gt;</div>
<div class="line"></div>
<div class="line">* </div>
</div><!-- fragment --> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a23ef395a200865eecc90c4d1738509eb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PureRTC.PeerClient.publish </td>
          <td>(</td>
          <td class="paramtype">stream&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>targetId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">function&#160;</td>
          <td class="paramname"><em>successCallback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">function&#160;</td>
          <td class="paramname"><em>failureCallback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function publishes the local stream to the remote client. </p>
<p><br/>
<b>Remarks:</b><br/>
This function should be called after invite or joinRoom. Streams in publish queue will be added in remote side soon. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stream</td><td>Local stream. An instance of <a class="el" href="class_pure_r_t_c_1_1_stream.html" title="Handles the WebRTC (audio, video) stream, identifies the stream, and identifies the location where th...">PureRTC.Stream</a>. </td></tr>
    <tr><td class="paramname">targetId</td><td>Remote peer's ID or roomToken. </td></tr>
    <tr><td class="paramname">successCallback</td><td>callback function to be invoked if stream is added. </td></tr>
    <tr><td class="paramname">failureCallback</td><td>callback function to be invoked if error occurred. <br/>
<br/>
 <div class="fragment"><div class="line"> &lt;script type=<span class="stringliteral">&quot;text/JavaScript&quot;</span>&gt;</div>
<div class="line"> var p2p=<span class="keyword">new</span> <a class="code" href="class_pure_r_t_c_1_1_peer_client.html">PureRTC.PeerClient</a>();</div>
<div class="line"> p2p.connect({host:<span class="stringliteral">&#39;http://example.com:8095/&#39;</span>,token:<span class="stringliteral">&#39;user1&#39;</span>});</div>
<div class="line"> p2p.invite(<span class="stringliteral">&#39;user2&#39;</span>);</div>
<div class="line"> p2p.publish(localStream,<span class="stringliteral">&#39;user1&#39;</span>);</div>
<div class="line"> &lt;/script&gt;</div>
<div class="line"></div>
<div class="line">* </div>
</div><!-- fragment --> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0f960286d45d2c1bebd1ebc82e4d4f20"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PureRTC.PeerClient.send </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>targetId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">function&#160;</td>
          <td class="paramname"><em>successCallback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">function&#160;</td>
          <td class="paramname"><em>failureCallback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function sends message data to a remote client. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>Message to be sent to remote user. </td></tr>
    <tr><td class="paramname">targetId</td><td>Remote user's ID. </td></tr>
    <tr><td class="paramname">successCallback</td><td>callback function to be invoked if the message is sent. </td></tr>
    <tr><td class="paramname">failureCallback</td><td>callback function to be invoked if error occurred. Parameter: error. <br/>
<br/>
 <div class="fragment"><div class="line"> &lt;script type=<span class="stringliteral">&quot;text/JavaScript&quot;</span>&gt;</div>
<div class="line"> p2p.send($(<span class="stringliteral">&#39;#data&#39;</span>).val(), $(<span class="stringliteral">&#39;#target-uid&#39;</span>).val());</div>
<div class="line"> &lt;/script&gt;</div>
<div class="line"></div>
<div class="line">* </div>
</div><!-- fragment --> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aaa7edf41690ee0b34ad9d77f4e214095"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PureRTC.PeerClient.stop </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>uid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">function&#160;</td>
          <td class="paramname"><em>successCallback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">function&#160;</td>
          <td class="paramname"><em>failureCallback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function stops the connection with specified remote user. </p>
<p><br/>
<b>Remarks:</b><br/>
 If peerId is unspecified, it will stop all P2P connections. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uid</td><td>Remote user's ID. </td></tr>
    <tr><td class="paramname">successCallback</td><td>callback function to be invoked if the session is stopped. </td></tr>
    <tr><td class="paramname">failureCallback</td><td>callback function to be invoked if error occurred. Parameter: error. <br/>
<br/>
 <div class="fragment"><div class="line"> &lt;script type=<span class="stringliteral">&quot;text/JavaScript&quot;</span>&gt;</div>
<div class="line"> p2p.stop();</div>
<div class="line"> &lt;/script&gt;</div>
<div class="line"></div>
<div class="line">* </div>
</div><!-- fragment --> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1510845ee3c5cb9363ead609ca267770"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PureRTC.PeerClient.unpublish </td>
          <td>(</td>
          <td class="paramtype">stream&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>targetId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">function&#160;</td>
          <td class="paramname"><em>successCallback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">function&#160;</td>
          <td class="paramname"><em>failureCallback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function revokes a local stream's publish. </p>
<p><br/>
<b>Remarks:</b><br/>
This stream will be removed on remote side if unpublish successfully. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stream</td><td>Local stream. An instance of <a class="el" href="class_pure_r_t_c_1_1_stream.html" title="Handles the WebRTC (audio, video) stream, identifies the stream, and identifies the location where th...">PureRTC.Stream</a>. </td></tr>
    <tr><td class="paramname">targetId</td><td>Remote Peer's ID. </td></tr>
    <tr><td class="paramname">successCallback</td><td>callback function to be invoked if stream is unpublished. </td></tr>
    <tr><td class="paramname">failureCallback</td><td>callback function to be invoked if error occurred. <br/>
<br/>
 <div class="fragment"><div class="line"> &lt;script type=<span class="stringliteral">&quot;text/JavaScript&quot;</span>&gt;</div>
<div class="line"> var p2p=<span class="keyword">new</span> <a class="code" href="class_pure_r_t_c_1_1_peer_client.html">PureRTC.PeerClient</a>();</div>
<div class="line"> p2p.connect({host:<span class="stringliteral">&#39;http://example.com:8095/&#39;</span>,token:<span class="stringliteral">&#39;user1&#39;</span>});</div>
<div class="line"> p2p.invite(<span class="stringliteral">&#39;user2&#39;</span>);</div>
<div class="line"> p2p.publish(localStream,<span class="stringliteral">&#39;user1&#39;</span>);</div>
<div class="line"> p2p.unpublish(localStream,<span class="stringliteral">&#39;user1&#39;</span>);</div>
<div class="line"> &lt;/script&gt;</div>
<div class="line"></div>
<div class="line">* </div>
</div><!-- fragment --> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_pure_r_t_c.html">PureRTC</a></li><li class="navelem"><a class="el" href="class_pure_r_t_c_1_1_peer_client.html">PeerClient</a></li>
    <li class="footer">Generated on Fri Mar 16 2018 15:14:53 for Zealcomm PureRTC version&nbsp;3.4.1v</li>
  </ul>
</div>
</body>
</html>
