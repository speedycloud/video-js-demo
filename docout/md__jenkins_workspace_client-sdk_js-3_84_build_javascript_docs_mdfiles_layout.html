<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Zealcomm PureRTC: Customized video layout</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="zealcomm_logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Zealcomm PureRTC
   &#160;<span id="projectnumber">version&nbsp;3.4.1v</span>
   </div>
   <div id="projectbrief">Zealcomm PureRTC Client SDK for Javascript*</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('md__jenkins_workspace_client-sdk_js-3_84_build_javascript_docs_mdfiles_layout.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Customized video layout </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="layout"></a>
layout</h1>
<p>The MCU server supports the mixed video layout configuration which is compliant with RFC5707 Media Server Markup Language (MSML). <br/>
 A valid customized video layout should be a JSON string which represents an array of video layout definition.<br/>
 </p>
<div class="fragment"><div class="line"><span class="comment">//Example of customized video layout</span></div>
<div class="line">[</div>
<div class="line"><span class="comment">//layout 1: 1 input</span></div>
<div class="line"> {</div>
<div class="line"> <span class="stringliteral">&quot;region&quot;</span>: [</div>
<div class="line">      {</div>
<div class="line">        <span class="stringliteral">&quot;id&quot;</span>: <span class="stringliteral">&quot;1&quot;</span>,  <span class="comment">//main pane</span></div>
<div class="line">        <span class="stringliteral">&quot;left&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;top&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;relativesize&quot;</span>: 1</div>
<div class="line">      }</div>
<div class="line">    ]</div>
<div class="line">  },</div>
<div class="line"><span class="comment">//layout 2: 2 inputs</span></div>
<div class="line"> {</div>
<div class="line">  <span class="stringliteral">&quot;region&quot;</span>: [</div>
<div class="line">     {</div>
<div class="line">        <span class="stringliteral">&quot;id&quot;</span>: <span class="stringliteral">&quot;1&quot;</span>,  <span class="comment">//main pane</span></div>
<div class="line">        <span class="stringliteral">&quot;left&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;top&quot;</span>: 0.25,</div>
<div class="line">        <span class="stringliteral">&quot;relativesize&quot;</span>: 0.5</div>
<div class="line">     },</div>
<div class="line">     {</div>
<div class="line">        <span class="stringliteral">&quot;id&quot;</span>: <span class="stringliteral">&quot;2&quot;</span>,</div>
<div class="line">        <span class="stringliteral">&quot;left&quot;</span>: 0.5,</div>
<div class="line">        <span class="stringliteral">&quot;top&quot;</span>: 0.25,</div>
<div class="line">        <span class="stringliteral">&quot;relativesize&quot;</span>: 0.5</div>
<div class="line">     }</div>
<div class="line">   ]</div>
<div class="line">  },</div>
<div class="line"> <span class="comment">//layout 3: 6 inputs</span></div>
<div class="line"> {</div>
<div class="line"> <span class="stringliteral">&quot;region&quot;</span>: [</div>
<div class="line">      {</div>
<div class="line">        <span class="stringliteral">&quot;id&quot;</span>: <span class="stringliteral">&quot;1&quot;</span>,   <span class="comment">//main pane</span></div>
<div class="line">        <span class="stringliteral">&quot;left&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;top&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;relativesize&quot;</span>: 0.667</div>
<div class="line">      },</div>
<div class="line">      {</div>
<div class="line">        <span class="stringliteral">&quot;id&quot;</span>: <span class="stringliteral">&quot;2&quot;</span>,</div>
<div class="line">        <span class="stringliteral">&quot;left&quot;</span>: 0.667,</div>
<div class="line">        <span class="stringliteral">&quot;top&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;relativesize&quot;</span>: 0.333</div>
<div class="line">      },</div>
<div class="line">      {</div>
<div class="line">        <span class="stringliteral">&quot;id&quot;</span>: <span class="stringliteral">&quot;3&quot;</span>,</div>
<div class="line">        <span class="stringliteral">&quot;left&quot;</span>: 0.667,</div>
<div class="line">        <span class="stringliteral">&quot;top&quot;</span>: 0.333,</div>
<div class="line">        <span class="stringliteral">&quot;relativesize&quot;</span>: 0.333</div>
<div class="line">      },</div>
<div class="line">      {</div>
<div class="line">        <span class="stringliteral">&quot;id&quot;</span>: <span class="stringliteral">&quot;4&quot;</span>,</div>
<div class="line">        <span class="stringliteral">&quot;left&quot;</span>: 0.667,</div>
<div class="line">        <span class="stringliteral">&quot;top&quot;</span>: 0.667,</div>
<div class="line">        <span class="stringliteral">&quot;relativesize&quot;</span>: 0.333</div>
<div class="line">      },</div>
<div class="line">      {</div>
<div class="line">        <span class="stringliteral">&quot;id&quot;</span>: <span class="stringliteral">&quot;5&quot;</span>,</div>
<div class="line">        <span class="stringliteral">&quot;left&quot;</span>: 0.333,</div>
<div class="line">        <span class="stringliteral">&quot;top&quot;</span>: 0.667,</div>
<div class="line">        <span class="stringliteral">&quot;relativesize&quot;</span>: 0.333</div>
<div class="line">      },</div>
<div class="line">      {</div>
<div class="line">        <span class="stringliteral">&quot;id&quot;</span>: <span class="stringliteral">&quot;6&quot;</span>,</div>
<div class="line">        <span class="stringliteral">&quot;left&quot;</span>: 0,</div>
<div class="line">        <span class="stringliteral">&quot;top&quot;</span>: 0.667,</div>
<div class="line">        <span class="stringliteral">&quot;relativesize&quot;</span>: 0.333</div>
<div class="line">      }</div>
<div class="line">    ]</div>
<div class="line">  }</div>
<div class="line">]</div>
</div><!-- fragment --><p> Each "region" defines video panes that are used to display participant video streams.<br/>
 Regions are rendered on top of the root mixed stream. "id" is the identifier for each video layout region.<br/>
 The size of a region is specified relative to the size of the root mixed stream using the "relativesize" attribute.<br/>
 Regions are located on the root window based on the value of the position attributes "top" and "left". These attributes define the position of the top left corner of the region as an offset from the top left corner of the root mixed stream, which is a percent of the vertical or horizontal dimension of the root mixed stream.<br/>
 Here are the illustration of 3 example layouts. Each number in a white squre indicates the defined id of that video pane.<br/>
 </p>
<div class="image">
<img src="layout1.png"  alt="layout 1: 1 input"/>
</div>
<p><br/>
 Layout 1 only defines one video pane.<br/>
 </p>
<div class="image">
<img src="layout2.png"  alt="layout 2: 2 input"/>
</div>
<p><br/>
 Layout 2 only defines two video panes and the black areas are with no contents.<br/>
 </p>
<div class="image">
<img src="layout3.png"  alt="layout 3: 6 input"/>
</div>
<p><br/>
 Layout 3 defines six vidio panes, a bigger one surrouded by other 5 panes.<br/>
</p>
<blockquote class="doxtable">
<p><b>Note:</b></p>
<p></p>
</blockquote>
<ol type="1">
<li>A 'base' layout template will be replaced by your defined customized video layout while there are conflicts.</li>
<li>It will automatically select the most suitable layout as with the changing of participator number. For instance, defining a layout as the above example. When only one user joins, layout 1 will be selected. After another user joins, layout will be replaced by layout 2. If more than 2 users are joining, layout 6 will be the most suitable choice.</li>
<li>Original definition in RFC5707 maintains a 'priority' option to indicates drawing order of the video spanes. Instead, the order within a layout definition will be considered as the drawing order and no explicit option is needed. And latter drawed panes will cover previous ones if overlaping exists.</li>
<li>One layout has a main pane defining its 'id' to be 1. </li>
</ol>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Mar 16 2018 15:14:53 for Zealcomm PureRTC version&nbsp;3.4.1v</li>
  </ul>
</div>
</body>
</html>
